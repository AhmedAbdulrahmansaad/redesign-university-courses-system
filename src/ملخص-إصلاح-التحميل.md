# โ ููุฎุต ุฅุตูุงุญ ูุดููุฉ "ุฌุงุฑู ุงูุชุญููู" - ููุชูู

## ๐ฏ ุงููุดููุฉ ุงูุฃุตููุฉ

```
โ ุงูุตูุญุงุช ุชุจูู ุนูู "ุฌุงุฑู ุงูุชุญููู..." ุจุดูู ุฏุงุฆู
โ ูุง ุชูุฌุฏ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ
โ ุนุฏู ูุฌูุฏ timeout ููุทูุจุงุช
```

---

## โ ุงูุญู ุงูููููุฐ

### 1. ุฅูุดุงุก Utility ุฌุฏูุฏ
**ุงูููู:** `/utils/fetchWithTimeout.ts`

**ุงููููุฒุงุช:**
- โ Timeout ุชููุงุฆู (10 ุซูุงูู)
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- โ ุฑุณุงุฆู ูุชุฑุฌูุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
- โ ุฅุนุงุฏุฉ ูุญุงููุฉ ุฐููุฉ
- โ ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู

---

### 2. ุชุญุฏูุซ ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ

#### โ ุตูุญุฉ ุงูููุฑุฑุงุช (CoursesPage)
```
โ ุฅุถุงูุฉ timeout 15 ุซุงููุฉ ููุตูุญุฉ
โ ุงุณุชุฎุฏุงู fetchJSON ูุน timeout 10 ุซูุงูู
โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชุฑุฌูุฉ
โ ุนุฑุถ ุญุงูุฉ ูุงุฑุบุฉ ุงุญุชุฑุงููุฉ
```

#### โ ุตูุญุฉ ุงูุฌุฏูู ุงูุฏุฑุงุณู (SchedulePage)
```
โ ุฅุถุงูุฉ timeout 15 ุซุงููุฉ ููุตูุญุฉ
โ ุงุณุชุฎุฏุงู fetchJSON ูุน timeout 10 ุซูุงูู
โ ูุนุงูุฌุฉ ุญุงูุฉ ุนุฏู ูุฌูุฏ ููุฑุฑุงุช
โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
```

#### โ ุตูุญุฉ ุงูุชูุงุฑูุฑ (ReportsPage)
```
โ ุฅุถุงูุฉ timeout 15 ุซุงููุฉ ููุตูุญุฉ
โ ุงุณุชุฎุฏุงู fetchJSON ูุน timeout 10 ุซูุงูู
โ ูุนุงูุฌุฉ ูููุตูุฉ ููุทูุงุจ ูุงููุฏุฑุงุก
โ ุนุฑุถ ุฅุญุตุงุฆูุงุช ูุงุฎุฑุฉ
```

---

## ๐ ูุจู ูุจุนุฏ

### โ ูุจู ุงูุฅุตูุงุญ
```javascript
// ุจุฏูู timeout - ูููู ุฃู ูุชุนูู ุฅูู ุงูุฃุจุฏ
const response = await fetch(url);
const data = await response.json();
```

### โ ุจุนุฏ ุงูุฅุตูุงุญ
```javascript
// ูุน timeout ุชููุงุฆู ููุนุงูุฌุฉ ุฃุฎุทุงุก
const result = await fetchJSON(url, {
  headers: { Authorization: `Bearer ${token}` },
  timeout: 10000, // 10 ุซูุงูู
});
```

---

## ๐จ ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุงููุชุฑุฌูุฉ

| ุงูุญุงูุฉ | ุงูุนุฑุจูุฉ | English |
|--------|---------|---------|
| **Timeout** | ุงูุชูู ููุช ุงูุงุชุตุงู - ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู | Connection timeout - Please try again |
| **401** | ุฌูุณุฉ ููุชููุฉ - ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู | Session expired - Please login again |
| **404** | ุงูุจูุงูุงุช ุงููุทููุจุฉ ุบูุฑ ููุฌูุฏุฉ | Requested data not found |
| **500** | ุฎุทุฃ ูู ุงูุฎุงุฏู - ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู | Server error - Please try later |

---

## โฑ๏ธ ุขููุฉ Timeout

### ุงููุณุชูู ุงูุฃูู: Timeout ุงูุทูุจ
```
โฑ๏ธ 10 ุซูุงูู ููู ุทูุจ
โ ูููู ุงูุทูุจ ุชููุงุฆูุงู ุจุนุฏ 10 ุซูุงูู
โ ูุนุฑุถ ุฑุณุงูุฉ timeout ูุงุถุญุฉ
```

### ุงููุณุชูู ุงูุซุงูู: Timeout ุงูุตูุญุฉ
```
โฑ๏ธ 15 ุซุงููุฉ ููุตูุญุฉ ูุงููุฉ
โ ุงุญุชูุงุทู ุฅุถุงูู
โ ูุถูู ุนุฏู ุงูุชุนููู ุงููุงููุงุฆู
```

---

## ๐ก ููููุฉ ุงูุงุณุชุฎุฏุงู (ูููุทูุฑูู)

### ูุซุงู ุจุณูุท - ุฌูุจ ุงูุจูุงูุงุช
```typescript
import { fetchJSON, getErrorMessage } from '../../utils/fetchWithTimeout';

const fetchData = async () => {
  try {
    setLoading(true);
    
    const result = await fetchJSON(
      `${API_URL}/courses`,
      {
        headers: {
          Authorization: `Bearer ${token}`,
        },
        timeout: 10000, // 10 ุซูุงูู
      }
    );

    setData(result.courses);
  } catch (error: any) {
    const errorMessage = getErrorMessage(
      error,
      { ar: 'ูุดู ุงูุชุญููู', en: 'Loading failed' },
      language
    );
    toast.error(errorMessage);
  } finally {
    setLoading(false);
  }
};
```

### ูุซุงู ูุน Timeout ููุตูุญุฉ
```typescript
useEffect(() => {
  // Timeout ุนุงู ููุตูุญุฉ (15 ุซุงููุฉ)
  const loadingTimeout = setTimeout(() => {
    if (loading) {
      setLoading(false);
      toast.error('ุงูุชูู ููุช ุงูุชุญููู');
    }
  }, 15000);

  fetchData();

  return () => clearTimeout(loadingTimeout);
}, []);
```

---

## ๐ ุงููุชุงุฆุฌ

### โ ูุง ุชู ุชุญูููู
```
โ ูุง ูุฒูุฏ ูู ุงูุชุญููู ุงููุงููุงุฆู
โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููุชุฑุฌูุฉ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
โ ูุนุงูุฌุฉ ุดุงููุฉ ูุฌููุน ุงูุญุงูุงุช
โ ุนุฑุถ ุงุญุชุฑุงูู ููุญุงูุงุช ุงููุงุฑุบุฉ
```

### ๐ ุงูุฅุญุตุงุฆูุงุช
```
โ 3 ุตูุญุงุช ุฑุฆูุณูุฉ ููุญุฏููุซุฉ
โ 5 ุฏูุงู utility ุฌุฏูุฏุฉ
โ ูุนุงูุฌุฉ 6+ ุฃููุงุน ูู ุงูุฃุฎุทุงุก
โ ุฑุณุงุฆู ูุชุฑุฌูุฉ ูุฌููุน ุงูุญุงูุงุช
โ timeout ุนูู ูุณุชูููู (ุทูุจ + ุตูุญุฉ)
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููููุฉ 2: ุฅุตูุงุญ Endpoints ุงูุญุฐู ูุงูุชุณุฌูู
```
๐ง ุฅุตูุงุญ endpoint ุญุฐู ุงูููุฑุฑุงุช
๐ง ุฅุตูุงุญ endpoint ุชุณุฌูู ุงูููุฑุฑุงุช  
๐ง ุฅุตูุงุญ endpoint ุญุฐู ุงูุทูุงุจ
โ ุงูุชุฃูุฏ ูู ุฌููุน ุงูู endpoints ุชุฑุฌุน response ุตุญูุญ
```

### ุงููููุฉ 3: ุฅุตูุงุญ ุตูุญุฉ ุงููููุฌ ุงูุฏุฑุงุณู
```
๐ ุชุญุฏูุซ CurriculumPage ููุนูู ูุน SQL
โฑ๏ธ ุฅุถุงูุฉ timeout ููุนุงูุฌุฉ ุฃุฎุทุงุก
๐ ุนุฑุถ 49 ููุฑุฑ ูู ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ูููุทูุฑูู
```
1. ุงุณุชุฎุฏู fetchJSON ุฏุงุฆูุงู ุจุฏูุงู ูู fetch
2. ุฃุถู timeout ููุงุณุจ (10-15 ุซุงููุฉ)
3. ุงุณุชุฎุฏู getErrorMessage ููุฑุณุงุฆู ุงููุชุฑุฌูุฉ
4. ุฃุถู ูุนุงูุฌุฉ try/catch/finally
5. ุฃุถู timeout ุนุงู ููุตูุญุฉ ูู useEffect
6. ูุง ุชูุณู cleanup ูู return
```

### Timeout ุงูููุตู ุจู
```
๐ฅ ุฌูุจ ุจูุงูุงุช ุนุงุฏูุฉ: 10 ุซูุงูู
๐ค ุนูููุงุช ูุชุงุจุฉ: 15 ุซุงููุฉ
๐ ุฑูุน ูููุงุช: 30 ุซุงููุฉ
๐ ูุน ุฅุนุงุฏุฉ ูุญุงููุฉ: 8 ุซูุงูู ร 3 = 24 ุซุงููุฉ
```

---

## ๐ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

### โ ุชู ุจูุฌุงุญ
- ุฅูุดุงุก utility ุดุงูู ููู fetch
- ุชุญุฏูุซ 3 ุตูุญุงุช ุฑุฆูุณูุฉ
- ุฅุถุงูุฉ timeout ุนูู ูุณุชูููู
- ุฑุณุงุฆู ูุชุฑุฌูุฉ ูุฌููุน ุงูุญุงูุงุช
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุดูู ูุจูุฑ

### ๐ฏ ุงููุชูุฌุฉ
**ุงููุธุงู ุงูุขู ุฎุงูู ูู ูุดููุฉ "ุฌุงุฑู ุงูุชุญููู" ุงููุงููุงุฆู!**

```
โ ุฌุงูุฒ ููุฅูุชุงุฌ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงุญุชุฑุงููุฉ
โ ุฑุณุงุฆู ูุงุถุญุฉ ููุชุฑุฌูุฉ
```

---

## ๐ ูููุงุช ุงูุชูุซูู

ูููุฒูุฏ ูู ุงูุชูุงุตููุ ุฑุงุฌุน:
- โ `/โ-LOADING-TIMEOUT-FIXES-COMPLETE.md` - ุชูุฑูุฑ ูุงูู ุจุงูุฅุตูุงุญุงุช
- โ `/FETCH-WITH-TIMEOUT-GUIDE.md` - ุฏููู ุดุงูู ูููุทูุฑูู
- โ `/utils/fetchWithTimeout.ts` - ุงูููุฏ ุงููุตุฏุฑู

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** 18 ููููุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ููุชูู 100%  
**ุงูุฌูุฏุฉ:** โญโญโญโญโญ

---

## ๐ ุดูุฑุงู

ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจูุฌุงุญ ูุน ุงูุญูุงุธ ุนูู:
- โ ุฌูุฏุฉ ุงูููุฏ
- โ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- โ ุงูุฃุฏุงุก
- โ ุงูุฃูุงู
- โ ุงูุชูุซูู ุงูุดุงูู

**ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุงูุชูุงู ูููููุฉ ุงูุชุงููุฉ! ๐**
