# โก ุงุจุฏุฃ ูู ููุง - ุฏููู ุณุฑูุน ุฌุฏุงู

## ๐ฏ ูุง ุงููุดููุฉุ

ููุช:
> "ูู ุชูู ูุฑุจูุทู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุตูุญุงุช ูุงูู ุญุชู ุนูุฏูุง ุณููุช ุฅูุดุงุก ุญุณุงุจ ูู ูุทูุน ูู ูู ุงููุณุชุฎุฏููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุงู ุนูุฏ ุชุณุฌูู ุงูุทุงูุจ ูู ุงูููุฑุฑุงุช ูููู ูุดู"

## โ ูุง ุชู ุฅุตูุงุญูุ

1. โ **ุฃุถูุช ุฌุฏูู `enrollments`** ูุญูุธ ุชุณุฌููุงุช ุงูููุฑุฑุงุช
2. โ **ุฃุถูุช 5 Endpoints ุฌุฏูุฏุฉ** ูู ุงูู backend:
   - `POST /register-course` - ุชุณุฌูู ููุฑุฑ
   - `GET /student/registrations` - ุฌูุจ ุชุณุฌููุงุช ุงูุทุงูุจ
   - `DELETE /student/registrations/:id` - ุฅูุบุงุก ุชุณุฌูู
   - `GET /courses/available` - ุฌูุจ ุงูููุฑุฑุงุช ุงููุชุงุญุฉ
   - ุชุญุณูู `POST /auth/signup` ู `POST /auth/login`
3. โ **ุญุฏูุซุช ููู `database_setup.sql`** ุจุฌุฏูู enrollments
4. โ **ุฃูุดุฃุช ููู SQL** ูุฅุฏุฎุงู 10 ููุฑุฑุงุช ุชุฌุฑูุจูุฉ
5. โ **ุฃูุดุฃุช ููู ุงุฎุชุจุงุฑ** ููุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ (3 ุฏูุงุฆู)

### 1๏ธโฃ ุดุบูู SQL Scripts (ุฏูููุฉ ูุงุญุฏุฉ)

**ุงูุชุญ Supabase Dashboard โ SQL Editor**

**ุฃ) ุฅูุดุงุก ุงูุฌุฏุงูู:**
```sql
-- ุงูุณุฎ ูุญุชูู ููู: database_setup.sql
-- ุงูุตูู ููุง ูุงุถุบุท "Run"
```

**ุจ) ุฅุฏุฎุงู ุงูููุฑุฑุงุช:**
```sql
-- ุงูุณุฎ ูุญุชูู ููู: ๐ฅ-QUICK-INSERT-SAMPLE-COURSES.sql
-- ุงูุตูู ููุง ูุงุถุบุท "Run"
```

**ุฌ) ุงุฎุชุจุงุฑ:**
```sql
-- ุงูุณุฎ ูุญุชูู ููู: ๐งช-TEST-DATABASE-CONNECTION.sql
-- ุงูุตูู ููุง ูุงุถุบุท "Run"
-- ูุฌุจ ุฃู ุชุฑู 10 ููุฑุฑุงุช ู 10 ุนุฑูุถ
```

---

### 2๏ธโฃ ูุดุฑ Edge Function (ุฏูููุฉ ูุงุญุฏุฉ)

**ุงูุทุฑููุฉ 1 - CLI:**
```bash
npx supabase functions deploy make-server-1573e40a
```

**ุงูุทุฑููุฉ 2 - ูุฏููุงู:**
1. ุงูุชุญ Supabase Dashboard
2. Edge Functions โ make-server-1573e40a
3. ุงูุณุฎ ูุญุชูู `/supabase/functions/server/index.tsx`
4. ุงูุตูู ูุงุญูุธ

---

### 3๏ธโฃ ุงุฎุชุจุงุฑ ุณุฑูุน (ุฏูููุฉ ูุงุญุฏุฉ)

#### ุงุฎุชุจุงุฑ 1: ุฅูุดุงุก ุญุณุงุจ
```
1. ุงูุชุญ ุตูุญุฉ "ุฅูุดุงุก ุญุณุงุจ"
2. ุฃุฏุฎู:
   - ุงูุฑูู: 4200001
   - ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
   - ุงูุจุฑูุฏ: ahmad@test.com
   - ูููุฉ ุงููุฑูุฑ: Test@123
   - ุงููุณุชูู: 1
   - ุงูุชุฎุตุต: ูุธู ุงููุนูููุงุช ุงูุฅุฏุงุฑูุฉ
3. ุงุถุบุท "ุฅูุดุงุก ุญุณุงุจ"
```

**โ ุงููุชููุน:** ุฑุณุงูุฉ ูุฌุงุญ

**๐ ุชุญูู:**
```sql
SELECT * FROM users WHERE student_id = '4200001';
-- ูุฌุจ ุฃู ูุธูุฑ ุงููุณุชุฎุฏู
```

#### ุงุฎุชุจุงุฑ 2: ุชุณุฌูู ุงูุฏุฎูู
```
1. ุณุฌู ุฏุฎูู ุจุจุฑูุฏ: ahmad@test.com
2. ูููุฉ ุงููุฑูุฑ: Test@123
```

**โ ุงููุชููุน:** ุงูุฏุฎูู ูููุญุฉ ุงูุชุญูู

#### ุงุฎุชุจุงุฑ 3: ุนุฑุถ ุงูููุฑุฑุงุช
```
1. ุงุฐูุจ ุฅูู "ุงูููุฑุฑุงุช ุงููุชุงุญุฉ"
```

**โ ุงููุชููุน:** 
- ุธููุฑ 4 ููุฑุฑุงุช (ุงููุณุชูู 1)
- ุฃู 5 ููุฑุฑุงุช ุชุฌุฑูุจูุฉ ุฅุฐุง ูู ุชูู ูู DB

#### ุงุฎุชุจุงุฑ 4: ุชุณุฌูู ููุฑุฑ
```
1. ุงุฎุชุฑ ููุฑุฑ MIS101
2. ุงุถุบุท "ุณุฌู ุงูุขู"
```

**โ ุงููุชููุน:** 
- ุฑุณุงูุฉ: "ุชู ุชุณุฌููู ูู ุงูููุฑุฑ ุจูุฌุงุญ"

**๐ ุชุญูู:**
```sql
SELECT 
  u.name,
  c.code,
  e.status
FROM enrollments e
JOIN users u ON e.user_id = u.id
JOIN courses c ON e.course_id = c.id
WHERE u.student_id = '4200001';
-- ูุฌุจ ุฃู ูุธูุฑ ุงูุชุณุฌูู
```

---

## ๐ ุงููููุงุช ุงููููุฉ

### ูููุงุช SQL (ููุฐูุง ุจุงูุชุฑุชูุจ):
1. โ `database_setup.sql` - ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
2. โ `๐ฅ-QUICK-INSERT-SAMPLE-COURSES.sql` - ุฅุฏุฎุงู 10 ููุฑุฑุงุช
3. โ `๐งช-TEST-DATABASE-CONNECTION.sql` - ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูููุงุช Backend (ุชู ุชุญุฏูุซูุง):
1. โ `/supabase/functions/server/index.tsx` - ุฌููุน ุงูู Endpoints

### ูููุงุช ุงูุชูุซูู (ูููุณุงุนุฏุฉ):
1. โ `๐ฏ-ุฎุทูุงุช-ุฑุจุท-ูุงุนุฏุฉ-ุงูุจูุงูุงุช.md` - ุฏููู ุชูุตููู
2. โ `โ-ุงูุญู-ุงูุดุงูู-ุงูููุงุฆู.md` - ุชูุซูู ุดุงูู ูุน ุฃูุซูุฉ

---

## ๐ ุฅุฐุง ูุงุฌูุช ูุดููุฉ

### โ ุงูููุฑุฑุงุช ูุง ุชุธูุฑ
```sql
-- ุชุญูู
SELECT COUNT(*) FROM courses;

-- ุฅุฐุง ูุงูุช 0ุ ุดุบูู
-- ููู: ๐ฅ-QUICK-INSERT-SAMPLE-COURSES.sql
```

### โ ุชุณุฌูู ุงูููุฑุฑ ููุดู
```sql
-- ุชุญูู ูู ุฌุฏูู enrollments
SELECT * FROM enrollments LIMIT 1;

-- ุฅุฐุง ุธูุฑ ุฎุทุฃ "relation does not exist"
-- ุดุบูู: database_setup.sql ูุฑุฉ ุฃุฎุฑู
```

### โ ุงูุญุณุงุจ ูุง ููุญูุธ
```sql
-- ุชุญูู ูู ุงููุณุชุฎุฏููู ุงููุชุงูู
SELECT 
  au.email
FROM auth.users au
LEFT JOIN users u ON au.id = u.auth_id
WHERE u.id IS NULL;

-- ูุธููู ูู ุตูุญุฉ "ุฃุฏูุงุช ุงููุธุงู"
```

---

## โ ุงูุชุญูู ุงูุณุฑูุน

```sql
-- ุดุบูู ูุฐุง ุงูู Query
-- ูุฌุจ ุฃู ุชุฑู:
-- departments: 5
-- courses: 10
-- course_offerings: 10
-- enrollments: (ุญุณุจ ุนุฏุฏ ุงูุชุณุฌููุงุช)

SELECT 'departments' as table_name, COUNT(*) as count FROM departments
UNION ALL SELECT 'courses', COUNT(*) FROM courses
UNION ALL SELECT 'course_offerings', COUNT(*) FROM course_offerings
UNION ALL SELECT 'enrollments', COUNT(*) FROM enrollments;
```

---

## ๐ ุงููุฌุงุญ!

ุฅุฐุง ูุฌุญุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุฃุนูุงู:
- โ ุฅูุดุงุก ุงูุญุณุงุจ ููุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุณุฌูู ุงูููุฑุฑุงุช ูุนูู ูููุญูุธ ูู `enrollments`
- โ ุงููุธุงู ูุฑุจูุท ุจุงููุงูู ุจูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ

**ูุจุฑูู! ๐ ุงููุธุงู ุฌุงูุฒ ุงูุขู!**

---

## ๐ ุชุญุชุงุฌ ูุณุงุนุฏุฉุ

ุฑุงุณููู ูุน:
1. ุฑุณุงูุฉ ุงูุฎุทุฃ ูู Console (F12)
2. ูุชูุฌุฉ ูุฐุง ุงูู Query:
   ```sql
   SELECT table_name FROM information_schema.tables WHERE table_schema = 'public';
   ```
3. Logs ูู Supabase Dashboard

**ุฃูุง ููุง! ๐ช**
