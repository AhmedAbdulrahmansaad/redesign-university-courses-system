# ๐ฏ ุงุจุฏุฃ ููุง ููุฑุงู - ูุญู ุฎุทุฃ "Failed to fetch"

---

## ๐จ ุงูุฎุทุฃ ุงูุฐู ุชุฑุงู:

```
โ๏ธ Database error: TypeError: Failed to fetch
```

---

## โ ุงูุณุจุจ:

**Edge Function ุบูุฑ ููุดูุฑุฉ ูู Supabase**

ุงูุชุทุจูู ูุญุงูู ุงูุงุชุตุงู ุจู:
```
https://kcbxyonombsqamwsmmqz.supabase.co/functions/v1/make-server-1573e40a/...
```

ููู ูุฐุง ุงูู Function **ุบูุฑ ููุฌูุฏ** (ูู ุชูุดุฑู ุจุนุฏ)

---

## ๐ ุงูุญู (7 ุฎุทูุงุช - 5 ุฏูุงุฆู):

---

### ๐ ุงูุฎุทูุฉ 1: ุงูุชุญ Supabase Dashboard

**ุงููุฑ ูุฐุง ุงูุฑุงุจุท:**
```
https://supabase.com/dashboard/project/kcbxyonombsqamwsmmqz
```

ุฃู:
1. ุงุฐูุจ ุฅูู: `https://supabase.com/dashboard`
2. ุงุถุบุท ุนูู ูุดุฑูุนู: `kcbxyonombsqamwsmmqz`

---

### ๐ ุงูุฎุทูุฉ 2: ุงุฐูุจ ูู Edge Functions

**ูู ุงููุงุฆูุฉ ุงููุณุฑูุ ุงุถุบุท:**
```
โก Edge Functions
```

---

### ๐ ุงูุฎุทูุฉ 3: ุฃูุดุฆ Function ุฌุฏูุฏุฉ

**ุงุถุบุท ุงูุฒุฑ ุงูุฃุฎุถุฑ/ุงูุฃุฒุฑู:**
```
[+ Create a new function]
```

**ูู ุงููุงูุฐุฉ ุงูููุจุซูุฉ:**
- ุญูู "Function name" ุงูุชุจ:
```
make-server-1573e40a
```

โ๏ธ **ุงูุณุฎู ูู ููุง ุจุงูุถุจุท! (Ctrl+C ุซู Ctrl+V)**

**ุงุถุบุท:**
```
[Create function]
```

---

### ๐ ุงูุฎุทูุฉ 4: ุงุฑูุน ุงูููุฏ

#### ุฃ. ุงุญุฐู ุงูููุฏ ุงูููุฌูุฏ
- ูู ุงููุญุฑุฑุ ุงุถุบุท `Ctrl+A`
- ุงุถุบุท `Delete`

#### ุจ. ุงูุชุญ ููู ุงูููุฏ
ูู Figma Makeุ ุงูุชุญ ุงูููู:
```
๐-DEPLOY-THIS-SIMPLE-FUNCTION.ts
```

#### ุฌ. ุงูุณุฎ ุงูููุฏ
- ุฏุงุฎู ุงููููุ ุงุถุบุท `Ctrl+A` (ุชุญุฏูุฏ ุงููู)
- ุงุถุบุท `Ctrl+C` (ูุณุฎ)

#### ุฏ. ุงูุตู ุงูููุฏ
- ุงุฑุฌุน ูู Supabase Dashboard
- ุงุถุบุท ูู ุงููุญุฑุฑ
- ุงุถุบุท `Ctrl+V` (ูุตู)

#### ูู. ุงูุดุฑ
**ุงุถุบุท ุงูุฒุฑ ุงูุฃุฒุฑู ูู ุงูุฃุนูู:**
```
[Deploy]
```

**ุงูุชุธุฑ 30-60 ุซุงููุฉ...**

ุนูุฏ ุงููุฌุงุญ ุณุชุฑู:
```
โ Function deployed successfully
```

---

### ๐ ุงูุฎุทูุฉ 5: ุฃุถู Environment Variables

#### ุฃ. ุงุถุบุท ุชุจููุจ Settings
```
[Code] [Settings] โ ุงุถุบุท ููุง
```

#### ุจ. ุงุณุญุจ ููุฃุณูู
ุญุชู ุชุฌุฏ:
```
Environment Variables
```

#### ุฌ. ุงุถุบุท:
```
[+ Add new secret]
```

---

#### ุฏ. ุฃุถู ุงููุชุบูุฑ ุงูุฃูู:

**ูู ุงููุงูุฐุฉ ุงูุชู ุชุธูุฑ:**

```
Name: SUPABASE_URL
```

```
Value: https://kcbxyonombsqamwsmmqz.supabase.co
```

**ุงุถุบุท: [Add]**

---

#### ูู. ุฃุถู ุงููุชุบูุฑ ุงูุซุงูู:

**ุงุถุบุท ูุฑุฉ ุฃุฎุฑู: [+ Add new secret]**

```
Name: SUPABASE_ANON_KEY
```

```
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjYnh5b25vbWJzcWFtd3NtbXF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNzA3OTMsImV4cCI6MjA3OTk0Njc5M30.IR1b_sKmNZnPHSx_EBTI0G5ouARblxMepr24nOxq8iM
```

โ๏ธ **ุงูุณุฎ ูุงูู ุงูุณุทุฑ!**

**ุงุถุบุท: [Add]**

---

#### ู. ุฃุถู ุงููุชุบูุฑ ุงูุซุงูุซ:

**ุงุถุบุท ูุฑุฉ ุฃุฎุฑู: [+ Add new secret]**

```
Name: SUPABASE_SERVICE_ROLE_KEY
```

```
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjYnh5b25vbWJzcWFtd3NtbXF6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDM3MDc5MywiZXhwIjoyMDc5OTQ2NzkzfQ.5cgLm3CjLP0NzGE6riqoZTtABW1wljEEJ7iH0XAeJR0
```

โ๏ธ **ุงูุณุฎ ูุงูู ุงูุณุทุฑ!**

**ุงุถุบุท: [Add]**

---

#### ุฒ. ุชุฃูุฏ ูู ูุฌูุฏ 3 ูุชุบูุฑุงุช:

ูุฌุจ ุฃู ุชุดุงูุฏ:
```
โ SUPABASE_URL
โ SUPABASE_ANON_KEY
โ SUPABASE_SERVICE_ROLE_KEY
```

---

### ๐ ุงูุฎุทูุฉ 6: ุงุฎุชุจุฑ ุงููุดุฑ

#### ุฃ. ุงูุชุญ ุชุจููุจ ุฌุฏูุฏ ูู ุงููุชุตูุญ
`Ctrl+T` ุฃู `Cmd+T`

#### ุจ. ุงูุตู ูุฐุง ุงูุฑุงุจุท:
```
https://kcbxyonombsqamwsmmqz.supabase.co/functions/v1/make-server-1573e40a/health
```

#### ุฌ. ุงุถุบุท Enter

#### ุฏ. ุงูุชุธุฑ 2-3 ุซูุงูู...

---

### โ ุงููุฌุงุญ - ูุฌุจ ุฃู ุชุดุงูุฏ:

```json
{
  "status": "ok",
  "message": "KKU Course Registration System - Working!",
  "timestamp": "2024-11-30T..."
}
```

### ๐ **ููุชุงุฒ! Edge Function ุชุนูู!**

---

### โ ุฅุฐุง ุดุงูุฏุช ุฎุทุฃ:

#### ุฎุทุฃ 404:
```
Function ุบูุฑ ููุดูุฑุฉ
โ ุฑุงุฌุน ุงูุฎุทูุฉ 3 ู 4
```

#### ุฎุทุฃ 500:
```
Environment Variables ูุงูุตุฉ
โ ุฑุงุฌุน ุงูุฎุทูุฉ 5
โ ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูู 3 ูุชุบูุฑุงุช
```

---

### ๐ ุงูุฎุทูุฉ 7: ุฌุฑูุจ ุงูุชุทุจูู

#### ุฃ. ุงุฑุฌุน ููุชุทุจูู ูู Figma Make

#### ุจ. ุงุฐูุจ ูุตูุญุฉ "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"

#### ุฌ. ุงููุฃ ุงูุจูุงูุงุช:

```
ุงูุฑูู ุงูุฌุงูุนู: 443123456
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: test@student.kku.edu.sa
ูููุฉ ุงููุฑูุฑ: Test@123456
ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ: Test@123456
ุงูุงุณู ุงููุงูู: ุงุฎุชุจุงุฑ ุงููุธุงู
ุฑูู ุงูุฌูุงู: 0500000000
ุงูุฏูุฑ: ุทุงูุจ
ุงูุชุฎุตุต: ูุธู ุงููุนูููุงุช ุงูุฅุฏุงุฑูุฉ
ุงููุณุชูู ุงูุฏุฑุงุณู: 1
```

#### ุฏ. ุงุถุบุท: "ุฅูุดุงุก ุญุณุงุจ"

---

### โ ุงููุฌุงุญ - ูุฌุจ ุฃู ุชุดุงูุฏ:

```
โ ุชู ุฅูุดุงุก ุญุณุงุจ ุงูุทุงูุจ ุจูุฌุงุญ!
๐ ููููู ุงูุขู ุชุณุฌูู ุงูุฏุฎูู!
```

**ุซู ูุชู ุชุญูููู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู**

---

### ๐ ูุจุฑูู!

```
โ ุงูุฎุทุฃ ุงุฎุชูู!
โ ุงููุธุงู ูุนูู 100%!
โ ููููู ุงูุขู:
   - ุฅูุดุงุก ุญุณุงุจุงุช
   - ุชุณุฌูู ุงูุฏุฎูู
   - ุนุฑุถ ุงูููุฑุฑุงุช
   - ุชุณุฌูู ุงูููุฑุฑุงุช
   - ุงุณุชุฎุฏุงู ุฌููุน ุงูููุฒุงุช
```

---

## ๐ ุญู ุงููุดุงูู:

### ุงููุดููุฉ: ูุง ุฃุฌุฏ "Edge Functions" ูู ุงููุงุฆูุฉ

**ุงูุญู:**
- ุชุฃูุฏ ุฃูู ูู ุงููุดุฑูุน ุงูุตุญูุญ: `kcbxyonombsqamwsmmqz`
- ุงุณุญุจ ุงููุงุฆูุฉ ูุฃุณูู
- ุงุจุญุซ ุนู ุฑูุฒ ุงูุจุฑู โก

---

### ุงููุดููุฉ: ูุง ููุฌุฏ ุฒุฑ "Create a new function"

**ุงูุญู:**
- ุชุฃูุฏ ุฃูู ูู ุตูุญุฉ Edge Functions
- ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
- ุชุฃูุฏ ูู ุตูุงุญูุงุชู ูู ุงููุดุฑูุน

---

### ุงููุดููุฉ: ุงูููุฏ ุทููู ุฌุฏุงู

**ุงูุญู:**
- ูุฐุง ุทุจูุนูุ ุงูููุฏ ~200 ุณุทุฑ
- ุงูุณุฎู ูุงููุงู ูู ููู `๐-DEPLOY-THIS-SIMPLE-FUNCTION.ts`
- ุงูุตูู ูุงููุงู ูู Supabase

---

### ุงููุดููุฉ: "Email already exists"

**ุงูุญู:**
- ุงุณุชุฎุฏู ุจุฑูุฏ ุฅููุชุฑููู ุขุฎุฑ
- ูุซู: `test2@student.kku.edu.sa`
- ุฃู: `test3@student.kku.edu.sa`

---

### ุงููุดููุฉ: ูุง ูุฒุงู "Failed to fetch"

**ุงูุญู:**
- ุชุฃูุฏ ูู ุงุฎุชุจุงุฑ `/health` endpoint (ุงูุฎุทูุฉ 6)
- ุฅุฐุง `/health` ูุนูู ููู signup ูุง ูุนูู:
  - ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
  - ุดุงูุฏ ุงูุฎุทุฃ ุงูุชูุตููู
  - ุฃุฎุจุฑูู ุจู

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ:

- [ ] ูุชุญุช Supabase Dashboard
- [ ] ุฃูุดุฃุช Function: `make-server-1573e40a`
- [ ] ูุณุฎุช ุงูููุฏ ูู `๐-DEPLOY-THIS-SIMPLE-FUNCTION.ts`
- [ ] ูุตูุช ุงูููุฏ ูู Supabase
- [ ] ุถุบุทุช Deploy
- [ ] ุงูุชุธุฑุช ุญุชู ุงูุชูู ุงููุดุฑ
- [ ] ุฃุถูุช `SUPABASE_URL`
- [ ] ุฃุถูุช `SUPABASE_ANON_KEY`
- [ ] ุฃุถูุช `SUPABASE_SERVICE_ROLE_KEY`
- [ ] ุงุฎุชุจุฑุช `/health` endpoint (ูุนูู โ)
- [ ] ุฌุฑุจุช ุฅูุดุงุก ุญุณุงุจ (ูุนูู โ)

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

```
โ Edge Function ููุดูุฑุฉ
โ Environment Variables ูุถุงูุฉ
โ /health endpoint ูุนูู
โ Signup ูุนูู
โ Login ูุนูู
โ ุงููุธุงู ูุงูู ูุนูู
โ 39 ุตูุญุฉ ุฌุงูุฒุฉ
โ ูุดุฑูุน ุชุฎุฑุฌ ูููุฒ!
```

---

## ๐ ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ:

**ุฃุฎุจุฑูู ุจุงูุถุจุท:**

1. ูู ุฃู ุฎุทูุฉ ุฃูุช ุงูุขูุ (1-7)
2. ูุงุฐุง ุชุฑู ุนูู ุงูุดุงุดุฉุ
3. ูุง ูู ุงูุฎุทุฃ ุจุงูุถุจุทุ

**ูุซุงู:**
```
"ุฃูุง ูู ุงูุฎุทูุฉ 5ุ ุนูุฏ ุฅุถุงูุฉ Environment Variablesุ
ุธูุฑ ูู ุฎุทุฃ: ..."
```

**ูุณุฃุณุงุนุฏู ููุฑุงู!** ๐ค

---

## ๐ฅ ุงุจุฏุฃ ุงูุขู ูู ุงูุฎุทูุฉ 1!

**ูุง ุชูุชุธุฑ!**

**ุงููุฑ ุงูุฑุงุจุท:**
```
https://supabase.com/dashboard/project/kcbxyonombsqamwsmmqz
```

**ูุงุชุจุน ุงูุฎุทูุงุช ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู!**

**5 ุฏูุงุฆู ููุท ูููุชูู ูู ุดูุก!** โก

---

**ุจุงูุชูููู!** ๐
