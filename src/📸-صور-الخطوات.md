# 📸 الخطوات بالصور (توضيحية)

## الخطوة 1: افتح Supabase

### اذهب إلى:
```
https://supabase.com/dashboard
```

### ستشاهد:
```
┌──────────────────────────────────────┐
│  Your Projects                       │
│                                      │
│  📁 kcbxyonombsqamwsmmqz            │ ← اضغط هنا
│  📁 Project 2                        │
│  📁 Project 3                        │
└──────────────────────────────────────┘
```

---

## الخطوة 2: Edge Functions

### في القائمة اليسرى:
```
┌─────────────────────┐
│ 🏠 Home             │
│ 🔐 Authentication   │
│ 🗄️ Database         │
│ 📦 Storage          │
│ ⚡ Edge Functions   │ ← اضغط هنا!
│ 📊 Reports          │
└─────────────────────┘
```

---

## الخطوة 3: إنشاء Function

### ستشاهد:
```
┌──────────────────────────────────────┐
│  Edge Functions                      │
│                                      │
│  [+ Create a new function]           │ ← اضغط هنا!
│                                      │
│  No functions yet                    │
└──────────────────────────────────────┘
```

### بعد الضغط، نافذة ستظهر:
```
┌──────────────────────────────┐
│  Create a new function       │
│                              │
│  Function name:              │
│  ┌────────────────────────┐ │
│  │ [اكتب هنا]             │ │ ← make-server-1573e40a
│  └────────────────────────┘ │
│                              │
│  [Cancel]  [Create]          │ ← ثم اضغط Create
└──────────────────────────────┘
```

---

## الخطوة 4: رفع الكود

### بعد إنشاء Function:
```
┌──────────────────────────────────────┐
│  make-server-1573e40a                │
│                                      │
│  [Deploy] [Settings] [Logs]          │
│                                      │
│  ┌────────────────────────────────┐ │
│  │ // Function code              │ │ ← احذف كل شيء هنا
│  │ import { serve } from ...     │ │
│  │                               │ │
│  └────────────────────────────────┘ │
└──────────────────────────────────────┘
```

### بعد الحذف:
```
┌──────────────────────────────────────┐
│  make-server-1573e40a                │
│                                      │
│  [Deploy] [Settings] [Logs]          │
│                                      │
│  ┌────────────────────────────────┐ │
│  │                               │ │ ← الصق الكود هنا
│  │                               │ │    من ملف:
│  │                               │ │    🚀-DEPLOY-THIS-SIMPLE-FUNCTION.ts
│  └────────────────────────────────┘ │
└──────────────────────────────────────┘
```

### بعد اللصق:
```
┌──────────────────────────────────────┐
│  make-server-1573e40a                │
│                                      │
│  [Deploy] ← اضغط هنا!                │
│                                      │
│  ┌────────────────────────────────┐ │
│  │ import { Hono } from 'npm:hono'│ │
│  │ import { cors } from ...       │ │
│  │ ...                            │ │
│  └────────────────────────────────┘ │
└──────────────────────────────────────┘
```

---

## الخطوة 5: Environment Variables

### اضغط تبويب Settings:
```
┌──────────────────────────────────────┐
│  [Code] [Settings] ← اضغط هنا!       │
│                                      │
│  Function Settings                   │
│                                      │
│  Environment Variables               │
│  ┌────────────────────────────────┐ │
│  │ No secrets yet                 │ │
│  └────────────────────────────────┘ │
│                                      │
│  [+ Add new secret] ← اضغط هنا!     │
└──────────────────────────────────────┘
```

### نافذة ستظهر:
```
┌──────────────────────────────┐
│  Add environment variable    │
│                              │
│  Name:                       │
│  ┌────────────────────────┐ │
│  │ SUPABASE_URL           │ │ ← اكتب الاسم
│  └────────────────────────┘ │
│                              │
│  Value:                      │
│  ┌────────────────────────┐ │
│  │ https://kcbxyon...     │ │ ← الصق القيمة
│  └────────────────────────┘ │
│                              │
│  [Cancel]  [Add]             │ ← اضغط Add
└──────────────────────────────┘
```

### كرر لـ 3 متغيرات:
```
✅ SUPABASE_URL
✅ SUPABASE_ANON_KEY
✅ SUPABASE_SERVICE_ROLE_KEY
```

---

## الخطوة 6: اختبار

### افتح متصفح جديد:
```
┌──────────────────────────────────────┐
│ 🌐 https://kcbxyonombsqamwsmmqz...  │ ← الصق الرابط
└──────────────────────────────────────┘
```

### يجب أن تشاهد:
```
┌──────────────────────────────────────┐
│ {                                    │
│   "status": "ok",                    │
│   "message": "KKU Course...",        │
│   "timestamp": "2024-11-30..."       │
│ }                                    │
└──────────────────────────────────────┘
```

✅ **نجح!**

---

## الخطوة 7: جرّب التطبيق

### في Figma Make:
```
┌──────────────────────────────────────┐
│  إنشاء حساب جديد                    │
│                                      │
│  الرقم الجامعي: 443123456           │
│  البريد: test@student.kku.edu.sa    │
│  كلمة المرور: Test@123456            │
│  ...                                 │
│                                      │
│  [إنشاء حساب] ← اضغط هنا!           │
└──────────────────────────────────────┘
```

### يجب أن تشاهد:
```
┌──────────────────────────────────────┐
│  ✅ تم إنشاء حساب الطالب بنجاح!    │
│                                      │
│  🎉 يمكنك الآن تسجيل الدخول!        │
└──────────────────────────────────────┘
```

✅ **يعمل!**

---

## 🎉 انتهيت!

**الخطأ اختفى!**

**النظام يعمل 100%!**

---

## المعلومات للنسخ واللصق:

### اسم Function:
```
make-server-1573e40a
```

### المتغير 1:
```
Name: SUPABASE_URL
Value: https://kcbxyonombsqamwsmmqz.supabase.co
```

### المتغير 2:
```
Name: SUPABASE_ANON_KEY
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjYnh5b25vbWJzcWFtd3NtbXF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNzA3OTMsImV4cCI6MjA3OTk0Njc5M30.IR1b_sKmNZnPHSx_EBTI0G5ouARblxMepr24nOxq8iM
```

### المتغير 3:
```
Name: SUPABASE_SERVICE_ROLE_KEY
Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjYnh5b25vbWJzcWFtd3NtbXF6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDM3MDc5MywiZXhwIjoyMDc5OTQ2NzkzfQ.5cgLm3CjLP0NzGE6riqoZTtABW1wljEEJ7iH0XAeJR0
```

### رابط الاختبار:
```
https://kcbxyonombsqamwsmmqz.supabase.co/functions/v1/make-server-1573e40a/health
```

---

**ابدأ الآن!** 🚀
