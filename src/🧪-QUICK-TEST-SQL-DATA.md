# ๐งช ุฏููู ุงุฎุชุจุงุฑ ุณุฑูุน - ุนุฑุถ ุจูุงูุงุช SQL

## ๐ฏ ุงููุฏู
ุงูุชุญูู ูู ุฃู ุงููุงุฌูุฉ ุชุนุฑุถ ุงูุจูุงูุงุช ุงูุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุณ ุงูููู ุงูุงูุชุฑุงุถูุฉ.

---

## โ ุงูุงุฎุชุจุงุฑ 1: ุงููุณุชูู ุงูุฏุฑุงุณู

### **ุงูุฎุทูุงุช:**
1. ุณุฌู ุฏุฎูู ูุทุงูุจ
2. ุงูุชุญ Console (F12)
3. ุงุจุญุซ ุนู ูุฐู ุงูุณุทูุฑ:

```
๐ [Dashboard] Refreshing user data from SQL...
โ [Dashboard] Student details: { level: X, major: "...", gpa: Y.YY }
```

4. ุชุญูู ูู ุงููุณุชูู ูู ุงููุงุฌูุฉ

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงููุณุชูู ุงููุนุฑูุถ = ุงููุณุชูู ูู Console
- โ Badge ูู ุงูุฃุนูู ูุนุฑุถ ุงููุณุชูู ุงูุตุญูุญ
- โ Quick Stats ุชุนุฑุถ "ุงููุณุชูู X"

### **ูุซุงู:**
```
ุฅุฐุง ูุงู ูู Console:
level: 3

ูุฌุจ ุฃู ูุธูุฑ ูู ุงููุงุฌูุฉ:
ุงููุณุชูู 3
```

---

## โ ุงูุงุฎุชุจุงุฑ 2: ุงูุชุฎุตุต

### **ุงูุฎุทูุงุช:**
1. ุงูุชุญ Dashboard
2. ุงูุธุฑ ุฅูู Badge ุงูุชุฎุตุต (ุชุญุช Badge ุงููุณุชูู)
3. ุงูุชุญ Console ูุงุจุญุซ ุนู:

```
๐ [Dashboard] Student details: { level: 3, major: "Management Information Systems" }
```

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุชุฎุตุต ุงููุนุฑูุถ = major ูู Console
- โ Badge ูุนุฑุถ ุงูุชุฎุตุต ุจุงูุนุฑุจูุฉ ุฃู ุงูุฅูุฌููุฒูุฉ

### **ุงูุชุฎุตุตุงุช ุงููุฏุนููุฉ:**
```
Management Information Systems โ ูุธู ุงููุนูููุงุช ุงูุฅุฏุงุฑูุฉ / MIS
Business Administration โ ุฅุฏุงุฑุฉ ุงูุฃุนูุงู / Business Admin
Accounting โ ุงููุญุงุณุจุฉ / Accounting
Marketing โ ุงูุชุณููู / Marketing
Finance โ ุงููุงููุฉ / Finance
```

---

## โ ุงูุงุฎุชุจุงุฑ 3: ุงููุนุฏู ุงูุชุฑุงููู

### **ุงูุฎุทูุงุช:**
1. ุงูุชุญ Dashboard
2. ุงูุธุฑ ุฅูู Quick Stats ูู ุงูุฃุนูู
3. ุชุญูู ูู ูููุฉ GPA

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงููุนุฏู ุงููุนุฑูุถ = gpa ูู Console
- โ ูุนุฑุถ ุฑูููู ุจุนุฏ ุงููุงุตูุฉ (ูุซู: 3.85)
- โ ูู ุงููุนุฏู 0ุ ูุนุฑุถ 0.00

### **ูุซุงู:**
```
Console:
gpa: 3.75

ุงููุงุฌูุฉ:
๐ ุงููุนุฏู: 3.75
```

---

## โ ุงูุงุฎุชุจุงุฑ 4: ุชุญุฏูุซ ุชููุงุฆู

### **ุงูุฎุทูุงุช:**
1. ุณุฌู ุฏุฎูู ูุทุงูุจ
2. ูุงุญุธ ุงููุณุชูู ุงูุญุงูู (ูุซูุงู: 1)
3. ุงูุชุญ Supabase Dashboard
4. ุงุฐูุจ ุฅูู ุฌุฏูู `students`
5. ุญุฏุซ `level` ุฅูู 2
6. ุงุฑุฌุน ููุชุทุจูู ูุงุถุบุท F5 (Refresh)
7. ุฃุนุฏ ูุชุญ Dashboard

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงููุณุชูู ูุชุบูุฑ ุชููุงุฆูุงู ูู 1 ุฅูู 2
- โ Console ูุนุฑุถ: `level: 2`
- โ Badge ูุนุฑุถ: "ุงููุณุชูู 2"

---

## โ ุงูุงุฎุชุจุงุฑ 5: ุงูุณุงุนุงุช ุงูููุชุณุจุฉ

### **ุงูุฎุทูุงุช:**
1. ุงูุชุญ Dashboard
2. ุงูุธุฑ ุฅูู Quick Stats
3. ุชุญูู ูู "ุงูุณุงุนุงุช"

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุนุฑุถ ูุฌููุน ุงูุณุงุนุงุช ุงูููุจููุฉ
- โ ูุญุณุจ ูู registrations ูุน status = 'approved'

### **ูุซุงู:**
```
ุฅุฐุง ูุงู ูุฏูู:
- ููุฑุฑ 1: 3 ุณุงุนุงุช (ููุจูู)
- ููุฑุฑ 2: 3 ุณุงุนุงุช (ููุจูู)
- ููุฑุฑ 3: 2 ุณุงุนุงุช (ููุฏ ุงูุงูุชุธุงุฑ)

ูุฌุจ ุฃู ูุธูุฑ:
ุงูุณุงุนุงุช: 6  (3 + 3 ููุท)
```

---

## ๐ ูุญุต Console Logs ุงููุชููุนุฉ

### **ุนูุฏ ูุชุญ Dashboard:**

```
๐ [Dashboard] Refreshing user data from SQL...
๐ [Me] Fetching current user data...
โ [Me] Auth user ID: abc123...
โ [Me] User data loaded: {
  student_id: "420123456",
  role: "student",
  level: 3,
  major: "Management Information Systems",
  gpa: 3.75
}
โ [Dashboard] Refreshed user data: {
  id: "uuid-123",
  name: "ุฃุญูุฏ ูุญูุฏ",
  student_id: "420123456",
  students: [{
    level: 3,
    major: "Management Information Systems",
    gpa: 3.75
  }]
}
๐ [Dashboard] Student details: {
  level: 3,
  major: "Management Information Systems",
  gpa: 3.75
}
๐พ [Dashboard] Updating userInfo with fresh data: {
  name: "ุฃุญูุฏ ูุญูุฏ",
  id: "420123456",
  level: 3,
  major: "Management Information Systems",
  gpa: 3.75,
  ...
}
```

---

## โ ูุคุดุฑุงุช ุงููุดุงูู

### **ุงููุดููุฉ 1: ุงููุณุชูู ุฏุงุฆูุงู 1**
```
Console ูุนุฑุถ:
level: 1  // โ ุฏุงุฆูุงู 1

ุงูุญู:
- ุชุญูู ูู ุฌุฏูู students ูู Supabase
- ุชุฃูุฏ ุฃู level ูุญุฏุซ ุจุดูู ุตุญูุญ
- ุฌุฑุจ ุชุณุฌูู ุฏุฎูู ูู ุฌุฏูุฏ
```

### **ุงููุดููุฉ 2: ุงูุชุฎุตุต ุฏุงุฆูุงู MIS**
```
Console ูุนุฑุถ:
major: "MIS"  // โ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ

ุงูุญู:
- ุชุญูู ูู students.major ูู SQL
- ูุฌุจ ุฃู ูููู ูุต ูุงูู ูุซู "Management Information Systems"
- ูููุณ ุงุฎุชุตุงุฑ ูุซู "MIS"
```

### **ุงููุดููุฉ 3: ูุง ููุฌุฏ logs ูู Console**
```
โ ูุง ููุฌุฏ:
๐ [Dashboard] Refreshing user data...

ุงูุญู:
- ุชุญูู ูู access_token ูู localStorage
- ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ุจุดูู ุตุญูุญ
- ุญุงูู ุชุณุฌูู ุฎุฑูุฌ ูุฏุฎูู ูุฌุฏุฏุงู
```

---

## ๐ฏ ุฌุฏูู ุงูุชุญูู ุงูุณุฑูุน

| ุงูุจูุฏ | ุงูุญุงูุฉ | ููุงุญุธุงุช |
|------|--------|---------|
| Console ูุนุฑุถ logs | โ | ูุฌุจ ุฃู ุชุจุฏุฃ ุจู ๐ |
| ุงููุณุชูู ูู SQL | โ | level: X (ููุณ 1 ุฏุงุฆูุงู) |
| ุงูุชุฎุตุต ูู SQL | โ | major: "..." (ูุต ูุงูู) |
| ุงููุนุฏู ูู SQL | โ | gpa: X.XX |
| ุงููุงุฌูุฉ ุชุนุฑุถ ุงููุณุชูู ุงูุตุญูุญ | โ | Badge + Quick Stats |
| ุงููุงุฌูุฉ ุชุนุฑุถ ุงูุชุฎุตุต ุงูุตุญูุญ | โ | Badge ุงูุชุฎุตุต |
| ุงููุงุฌูุฉ ุชุนุฑุถ ุงููุนุฏู ุงูุตุญูุญ | โ | Quick Stats |
| localStorage ูุญุฏุซ | โ | ุงูุชุญ Application > Local Storage |

---

## ๐พ ูุญุต localStorage

### **ุงูุฎุทูุงุช:**
1. ุงูุชุญ Console (F12)
2. ุงุฐูุจ ุฅูู Application (ุฃู Storage)
3. ุงูุชุญ Local Storage
4. ุงุจุญุซ ุนู `userInfo`
5. ุงูุญุต ุงูููู

### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```json
{
  "name": "ุฃุญูุฏ ูุญูุฏ",
  "id": "420123456",
  "user_db_id": "uuid-123",
  "email": "ahmad@kku.edu.sa",
  "major": "Management Information Systems",
  "level": 3,
  "gpa": 3.75,
  "total_credits": 12,
  "completed_credits": 9,
  "role": "student",
  "access_token": "eyJ..."
}
```

### **ุชุญูู ูู:**
- โ level โ 1 (ุฅูุง ุฅุฐุง ูุงู ูุนูุงู ูู ุงููุณุชูู ุงูุฃูู)
- โ major = ูุต ูุงูู ูููุณ "MIS"
- โ gpa = ูููุฉ ุญููููุฉ
- โ total_credits ู completed_credits ููุฌูุฏูู

---

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ุงูุฎุทุฃ: "Unauthorized" ูู Console**
```
โ [Me] Auth error: Invalid token

ุงูุญู:
1. localStorage.removeItem('access_token')
2. localStorage.removeItem('userInfo')
3. ุฃุนุฏ ุชุณุฌูู ุงูุฏุฎูู
```

### **ุงูุฎุทุฃ: "User not found in database"**
```
โ [Me] User data error: User not found

ุงูุญู:
1. ุชุญูู ูู ุฌุฏูู users ูู Supabase
2. ุชุฃูุฏ ุฃู auth_id ููุฌูุฏ
3. ุชุญูู ูู ุฑุจุท users ูุน students
```

### **ุงูุฎุทุฃ: students[0] undefined**
```
Console:
students: []  // โ ูุงุฑุบ

ุงูุญู:
1. ุชุญูู ูู ุฌุฏูู students
2. ุชุฃูุฏ ุฃู user_id ุตุญูุญ
3. ุชุญูู ูู Foreign Key relationship
```

---

## โ ูุฌุงุญ ุงูุงุฎุชุจุงุฑ

ููุนุชุจุฑ ุงูุงุฎุชุจุงุฑ ูุงุฌุญุงู ุฅุฐุง:

1. โ ุฌููุน ุงูุจููุฏ ูู ุฌุฏูู ุงูุชุญูู ูุคุดุฑุฉ
2. โ Console ูุนุฑุถ logs ูุงููุฉ ูููุตูุฉ
3. โ ุงูุจูุงูุงุช ูู ุงููุงุฌูุฉ = ุงูุจูุงูุงุช ูู Console
4. โ localStorage ูุญุชูู ุนูู ุจูุงูุงุช ุตุญูุญุฉ
5. โ ุชุญุฏูุซ ุงูุจูุงูุงุช ูู SQL ูุธูุฑ ูู ุงููุงุฌูุฉ ุจุนุฏ Refresh

---

**ููุช ุงูุงุฎุชุจุงุฑ:** 5-10 ุฏูุงุฆู  
**ุงูุฃุฏูุงุช ุงููุทููุจุฉ:** Console (F12), Supabase Dashboard  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
